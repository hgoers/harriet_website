<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-11-18">

<title>Introduction to Exponential Random Graph Models – Harriet Goers</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-65ef9bc6449578477aba7d52303f127d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-MWQWNJ6WK8"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-MWQWNJ6WK8', { 'anonymize_ip': true});
</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Harriet Goers</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../research/index.html"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../teaching/index.html"> 
<span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="mailto:hgoers@umd.edu" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-envelope"></i></a>
    <a href="https://github.com/hgoers" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
    <a href="https://scholar.google.com/citations?user=BHZXR-JIB_EC&amp;hl=en" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-mortarboard-fill"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-an-ergm" id="toc-what-is-an-ergm" class="nav-link active" data-scroll-target="#what-is-an-ergm">What is an ERGM?</a></li>
  <li><a href="#why-networks-and-ergms-matter-for-political-science" id="toc-why-networks-and-ergms-matter-for-political-science" class="nav-link" data-scroll-target="#why-networks-and-ergms-matter-for-political-science">Why Networks and ERGMs Matter for Political Science</a>
  <ul class="collapse">
  <li><a href="#the-basic-logic" id="toc-the-basic-logic" class="nav-link" data-scroll-target="#the-basic-logic">The Basic Logic</a></li>
  </ul></li>
  <li><a href="#predicting-international-conflict" id="toc-predicting-international-conflict" class="nav-link" data-scroll-target="#predicting-international-conflict">Predicting International Conflict</a>
  <ul class="collapse">
  <li><a href="#step-1-define-node-attributes" id="toc-step-1-define-node-attributes" class="nav-link" data-scroll-target="#step-1-define-node-attributes">Step 1: Define Node Attributes</a></li>
  <li><a href="#step-2-create-all-possible-directed-ties-dyads" id="toc-step-2-create-all-possible-directed-ties-dyads" class="nav-link" data-scroll-target="#step-2-create-all-possible-directed-ties-dyads">Step 2: Create All Possible Directed Ties (Dyads)</a></li>
  <li><a href="#step-3-define-the-true-ergm-parameters" id="toc-step-3-define-the-true-ergm-parameters" class="nav-link" data-scroll-target="#step-3-define-the-true-ergm-parameters">Step 3: Define the “True” ERGM Parameters</a></li>
  <li><a href="#understanding-the-structural-feature-transitive-triads" id="toc-understanding-the-structural-feature-transitive-triads" class="nav-link" data-scroll-target="#understanding-the-structural-feature-transitive-triads">Understanding the Structural Feature: Transitive Triads</a></li>
  <li><a href="#step-4-calculate-network-probabilities" id="toc-step-4-calculate-network-probabilities" class="nav-link" data-scroll-target="#step-4-calculate-network-probabilities">Step 4: Calculate Network Probabilities</a></li>
  <li><a href="#step-5-examine-the-most-likely-networks" id="toc-step-5-examine-the-most-likely-networks" class="nav-link" data-scroll-target="#step-5-examine-the-most-likely-networks">Step 5: Examine the Most Likely Networks</a></li>
  <li><a href="#step-6-simulate-a-network-from-this-distribution" id="toc-step-6-simulate-a-network-from-this-distribution" class="nav-link" data-scroll-target="#step-6-simulate-a-network-from-this-distribution">Step 6: Simulate a Network from This Distribution</a></li>
  </ul></li>
  <li><a href="#understanding-the-impact-of-network-structure" id="toc-understanding-the-impact-of-network-structure" class="nav-link" data-scroll-target="#understanding-the-impact-of-network-structure">Understanding the Impact of Network Structure</a>
  <ul class="collapse">
  <li><a href="#what-does-the-transitivity-parameter-mean" id="toc-what-does-the-transitivity-parameter-mean" class="nav-link" data-scroll-target="#what-does-the-transitivity-parameter-mean">What Does the Transitivity Parameter Mean?</a></li>
  <li><a href="#comparing-with-and-without-structure" id="toc-comparing-with-and-without-structure" class="nav-link" data-scroll-target="#comparing-with-and-without-structure">Comparing With and Without Structure</a></li>
  </ul></li>
  <li><a href="#why-this-matters-interdependence" id="toc-why-this-matters-interdependence" class="nav-link" data-scroll-target="#why-this-matters-interdependence">Why This Matters: Interdependence</a></li>
  <li><a href="#the-computational-challenge" id="toc-the-computational-challenge" class="nav-link" data-scroll-target="#the-computational-challenge">The Computational Challenge</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introduction to Exponential Random Graph Models</h1>
<p class="subtitle lead">Understanding Network Structure with the Enemy’s Enemy Principle</p>
  <div class="quarto-categories">
    <div class="quarto-category">ERGM</div>
    <div class="quarto-category">Network analysis</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 18, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="what-is-an-ergm" class="level2">
<h2 class="anchored" data-anchor-id="what-is-an-ergm">What is an ERGM?</h2>
<p>Imagine you observe some network — for example, countries at war with each other. You want to learn why this network looks the way it does. An ERGM provides the following answer: “Some network patterns are more likely than others, and I can explain why by looking at their specific features”.</p>
</section>
<section id="why-networks-and-ergms-matter-for-political-science" class="level2">
<h2 class="anchored" data-anchor-id="why-networks-and-ergms-matter-for-political-science">Why Networks and ERGMs Matter for Political Science</h2>
<p>One core problem with using standard statistical methods, like regression, to study connections between countries, organizations, or people is that these methods assume each relationship is independent of every other. For instance, they treat the relationship between the US and France as if it exists in isolation, completely unaffected by the US’s relationship with Germany. This assumption is fundamentally inaccurate in real-world political and social systems, where ties influence each other.</p>
<p>Exponential Random Graph Models (ERGMs) are a specialized set of statistical techniques designed to analyze networks by recognizing and modeling these complex interdependencies. They look for and quantify common patterns that emerge when relationships influence one another, such as reciprocity (if A links to B, B is likely to link back to A) or transitivity (if A links to B, and B links to C, then A is likely to link to C). This allows researchers to study how the overall structure of the network, not just individual factors, drives the formation of new connections. By doing this, ERGMs offer a more accurate and realistic framework than methods that treat all connections as standalone events.</p>
<section id="the-basic-logic" class="level3">
<h3 class="anchored" data-anchor-id="the-basic-logic">The Basic Logic</h3>
<p>Start with all possible networks that could form between your actors. For example, if you have three actors (all of which can both send and receive ties), <strong>64 directed networks</strong> could form between them.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/all_possible_graphs.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Next, assign each of these possible networks some probability based on its features. For example, imagine that each of the above networks represents a different configuration of who is at war with whom. We might find that:</p>
<ul>
<li>Networks where democracies fight other democracies might be LESS likely (democratic peace theory)</li>
<li>Networks where geographically distant countries fight might be LESS likely</li>
<li>Networks where strong countries attack weak ones might be MORE likely</li>
</ul>
<p>Networks with more “desirable” features receive a higher probability. Those with less “desirable” features receive a lower probability. The <strong>parameters</strong> (β values) tell you how much each feature matters.</p>
</section>
</section>
<section id="predicting-international-conflict" class="level2">
<h2 class="anchored" data-anchor-id="predicting-international-conflict">Predicting International Conflict</h2>
<p>Let’s work through a concrete example. Imagine you would like to work out what features shape the likelihood of war breaking out. You know the following features matter:</p>
<ol type="1">
<li><p><strong>Democracy</strong>: Whether two countries are both democracies (if yes, they are less likely to go to war with each other)</p></li>
<li><p><strong>Distance</strong>: The distance between their capital cities (war becomes less likely with distance)</p></li>
<li><p><strong>Military strength</strong>: Their relative strength (stronger countries are more likely to attack weaker ones)</p></li>
<li><p><strong>Avoiding multi-front wars</strong>: If A fights B, and B fights C, then A is less likely to also fight C (countries avoid complex triangular conflicts and instead form coalitions)</p></li>
</ol>
<p>We will examine a hypothetical world of three countries in which these four feature are the only significant determinants of one country starting a war with another. Further, we will know just how much each feature matters to this decision. Knowing this allows us to see how ERGMs work. We can then move on to the more useful research project of discovering these parameters.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Why Three Nodes?
</div>
</div>
<div class="callout-body-container callout-body">
<p>The number of possible networks grows exponentially with the number of nodes. With three nodes, we have a manageable 64 possible networks that we can enumerate completely. This lets us understand the mechanics of ERGMs before tackling larger networks that require simulation methods.</p>
</div>
</div>
<section id="step-1-define-node-attributes" class="level3">
<h3 class="anchored" data-anchor-id="step-1-define-node-attributes">Step 1: Define Node Attributes</h3>
<p>Let’s set up our known world of three countries:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">node =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>),</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">democracy =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>),     <span class="co"># A and B are democracies, C is not</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">cinc =</span> <span class="fu">c</span>(.<span class="dv">142</span>, .<span class="dv">07</span>, .<span class="dv">04</span>)    <span class="co"># Composite Index of National Capability</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(nodes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">node</th>
<th style="text-align: right;">democracy</th>
<th style="text-align: right;">cinc</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">A</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.142</td>
</tr>
<tr class="even">
<td style="text-align: left;">B</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.070</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.040</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>What do these variables mean?</strong></p>
<ul>
<li><p><code>democracy</code>: A value of 1 means the country is a democracy, 0 means it is not. In our world, countries A and B are democracies, while C is not.</p></li>
<li><p><code>cinc</code>: This is the Composite Index of National Capability, which measures a country’s military power. It ranges from 0 to 1, with higher values indicating greater military capability. In our example, A is the strongest (0.142), followed by B (0.07), then C (0.04).</p></li>
</ul>
</section>
<section id="step-2-create-all-possible-directed-ties-dyads" class="level3">
<h3 class="anchored" data-anchor-id="step-2-create-all-possible-directed-ties-dyads">Step 2: Create All Possible Directed Ties (Dyads)</h3>
<p>For a three-node directed network, we have 3 × 2 = 6 possible ties. Each of our three nodes can send a tie (initiate war) to two other nodes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>dyads <span class="ot">&lt;-</span> <span class="fu">expand_grid</span>(</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">node_1 =</span> nodes<span class="sc">$</span>node,</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">node_2 =</span> nodes<span class="sc">$</span>node</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(node_1 <span class="sc">!=</span> node_2) <span class="sc">%&gt;%</span>  <span class="co"># Remove self-loops</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(<span class="fu">rename_with</span>(nodes, <span class="sc">~</span> <span class="fu">paste0</span>(.x, <span class="st">"_1"</span>)), </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="st">"node_1"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(<span class="fu">rename_with</span>(nodes, <span class="sc">~</span> <span class="fu">paste0</span>(.x, <span class="st">"_2"</span>)), </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="st">"node_2"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    node_1, node_2,</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Covariate 1: Both nodes are democracies</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">both_democracy =</span> <span class="fu">as.numeric</span>(democracy_1 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> democracy_2 <span class="sc">==</span> <span class="dv">1</span>),</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Covariate 2: CINC ratio (sender/receiver)</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">cinc_ratio =</span> cinc_1 <span class="sc">/</span> cinc_2,</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Covariate 3: Distance between capitals in thousands of kms</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">dist =</span> <span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">40</span>, <span class="dv">12</span>, <span class="dv">35</span>, <span class="dv">40</span>, <span class="dv">35</span>)</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(dyads)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">node_1</th>
<th style="text-align: left;">node_2</th>
<th style="text-align: right;">both_democracy</th>
<th style="text-align: right;">cinc_ratio</th>
<th style="text-align: right;">dist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">A</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2.0285714</td>
<td style="text-align: right;">12</td>
</tr>
<tr class="even">
<td style="text-align: left;">A</td>
<td style="text-align: left;">C</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3.5500000</td>
<td style="text-align: right;">40</td>
</tr>
<tr class="odd">
<td style="text-align: left;">B</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.4929577</td>
<td style="text-align: right;">12</td>
</tr>
<tr class="even">
<td style="text-align: left;">B</td>
<td style="text-align: left;">C</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.7500000</td>
<td style="text-align: right;">35</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.2816901</td>
<td style="text-align: right;">40</td>
</tr>
<tr class="even">
<td style="text-align: left;">C</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.5714286</td>
<td style="text-align: right;">35</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Understanding the covariates:</strong></p>
<ul>
<li><p><code>both_democracy</code>: This equals 1 if both <code>node_1</code> and <code>node_2</code> are democracies. In our example, this is true for A→B and B→A. We expect these dyads to be less likely to go to war.</p></li>
<li><p><code>cinc_ratio</code>: This is the military capability of <code>node_1</code> divided by <code>node_2</code>. Values greater than 1 mean the potential attacker is stronger. For example, A→C has a ratio of 3.55, meaning A is much stronger than C.</p></li>
<li><p><code>dist</code>: Distance between capitals in thousands of kilometers. Greater distances should make war less likely.</p></li>
</ul>
</section>
<section id="step-3-define-the-true-ergm-parameters" class="level3">
<h3 class="anchored" data-anchor-id="step-3-define-the-true-ergm-parameters">Step 3: Define the “True” ERGM Parameters</h3>
<p>We’re going to set up a known world where we specify exactly how each feature affects the probability of war. In real research, we would estimate these parameters from data, but here we’ll define them to understand how ERGMs work.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>true_beta_0 <span class="ot">&lt;-</span> <span class="sc">-</span><span class="fl">2.0</span>   <span class="co"># Baseline</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>true_beta_1 <span class="ot">&lt;-</span> <span class="sc">-</span><span class="fl">3.5</span>   <span class="co"># Both democracy effect  </span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>true_beta_2 <span class="ot">&lt;-</span> <span class="fl">1.5</span>    <span class="co"># CINC ratio effect</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>true_beta_3 <span class="ot">&lt;-</span> <span class="sc">-</span><span class="fl">0.05</span>  <span class="co"># Distance effect</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>true_beta_4 <span class="ot">&lt;-</span> <span class="sc">-</span><span class="fl">2.0</span>   <span class="co"># Transitive triads effect</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Interpreting each parameter:</strong></p>
<ul>
<li><p><strong>β₀ = -2.0</strong> (Baseline): This negative number means wars are generally rare. If we ignore all other features, countries don’t randomly fight — there needs to be a reason.</p></li>
<li><p><strong>β₁ = -3.5</strong> (Both Democracy): This large negative number means when both countries are democracies, war becomes much less likely. This captures the democratic peace theory.</p></li>
<li><p><strong>β₂ = 1.5</strong> (CINC Ratio): This positive number means stronger countries are more likely to attack weaker ones. Higher military advantage increases the probability of war.</p></li>
<li><p><strong>β₃ = -0.05</strong> (Distance): This negative number means farther countries are less likely to fight. Geography creates a barrier to conflict.</p></li>
<li><p><strong>β₄ = -2.0</strong> (Transitive Triads): This is our <strong>structural parameter</strong>. It captures patterns of conflict clustering, which we’ll explain next.</p></li>
</ul>
</section>
<section id="understanding-the-structural-feature-transitive-triads" class="level3">
<h3 class="anchored" data-anchor-id="understanding-the-structural-feature-transitive-triads">Understanding the Structural Feature: Transitive Triads</h3>
<p>ERGMs allow us to capture features that shape the likelihood of some outcome other than those that depend only on the two countries involved in a potential war (A and B’s attributes, their distance, etc.). For example, the <strong>transitive triads</strong> parameter is different — it depends on the entire network structure. We cannot use traditional dyadic data structures to estimate its influence on conflict.</p>
<p><strong>What is a transitive triad?</strong></p>
<p>A transitive triad exists when three countries form a directed triangle of conflict:</p>
<ul>
<li><p>A is at war with B (A→B exists)</p></li>
<li><p>B is at war with C (B→C exists)</p></li>
<li><p>A is at war with C (A→C exists)</p></li>
</ul>
<p>This forms a complete cycle where each country that fights another country also fights that country’s enemy.</p>
<p><strong>Why does this matter?</strong></p>
<p>In reality, transitive triads are rare in international conflict. Here’s why:</p>
<ul>
<li><p>If the United States fights Russia, and Russia fights Ukraine, the United States typically does not fight Ukraine. Instead, the U.S. often supports Ukraine (the principle: “the enemy of my enemy is my friend”).</p></li>
<li><p>Countries tend to form coalitions against common enemies rather than creating triangular wars. When A fights B, and B fights C, A and C more often become allies than enemies.</p></li>
</ul>
<p><strong>The key insight:</strong> With β₄ = -2.0 (negative), networks that contain transitive triads are less probable. Countries avoid getting into complex multi-front wars. This one parameter changes the entire distribution of likely networks by discouraging clustered conflict patterns.</p>
</section>
<section id="step-4-calculate-network-probabilities" class="level3">
<h3 class="anchored" data-anchor-id="step-4-calculate-network-probabilities">Step 4: Calculate Network Probabilities</h3>
<p>Here’s where ERGMs with structural features become different. We cannot simply calculate the probability of each tie independently. Why? Because whether A→C exists depends on whether A→B and B→C exist!</p>
<p><strong>The solution:</strong> We must look at all 64 possible complete networks and calculate the probability of each entire network configuration.</p>
<section id="generate-all-possible-networks" class="level4">
<h4 class="anchored" data-anchor-id="generate-all-possible-networks">Generate All Possible Networks</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>all_networks <span class="ot">&lt;-</span> <span class="fu">expand_grid</span>(</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">tie_AB =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>, <span class="at">tie_AC =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>, <span class="at">tie_BA =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">tie_BC =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>, <span class="at">tie_CA =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>, <span class="at">tie_CB =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">1</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">network_id =</span> <span class="fu">row_number</span>())</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>all_networks</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 64 × 7
   tie_AB tie_AC tie_BA tie_BC tie_CA tie_CB network_id
    &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;      &lt;int&gt;
 1      0      0      0      0      0      0          1
 2      0      0      0      0      0      1          2
 3      0      0      0      0      1      0          3
 4      0      0      0      0      1      1          4
 5      0      0      0      1      0      0          5
 6      0      0      0      1      0      1          6
 7      0      0      0      1      1      0          7
 8      0      0      0      1      1      1          8
 9      0      0      1      0      0      0          9
10      0      0      1      0      0      1         10
# ℹ 54 more rows</code></pre>
</div>
</div>
<p>Each row represents one possible network. For example:</p>
<ul>
<li><p>Row 1: <code>tie_AB = 0, tie_AC = 0, ..., tie_CB = 0</code> (empty network, no wars)</p></li>
<li><p>Row 64: <code>tie_AB = 1, tie_AC = 1, ..., tie_CB = 1</code> (complete network, all at war)</p></li>
</ul>
</section>
<section id="calculate-sufficient-statistics-for-each-network" class="level4">
<h4 class="anchored" data-anchor-id="calculate-sufficient-statistics-for-each-network">Calculate Sufficient Statistics for Each Network</h4>
<p>For each possible network, we need to count:</p>
<ol type="1">
<li>How many wars exist (edges)</li>
<li>How many wars involve two democracies</li>
<li>Sum of CINC ratios across all wars</li>
<li>Sum of distances across all wars</li>
<li>How many transitive triads exist (the structural feature)</li>
</ol>
<p><strong>What are sufficient statistics?</strong></p>
<p><strong>Sufficient statistics</strong> are summary measures of a network that contain all the information needed to calculate the network’s probability under an ERGM.</p>
<p>Rather than tracking every individual tie separately, sufficient statistics reduce the network to a few key counts that capture what the model cares about. These five statistics are “sufficient” because two networks with identical sufficient statistics have identical probabilities under the model, even if the specific ties differ.</p>
<p><strong>Why “sufficient”?</strong></p>
<p>For example, suppose:</p>
<ul>
<li>Network A has wars A→B and C→D (two wars between non-democracies)</li>
<li>Network B has wars A→C and B→D (two different wars between non-democracies)</li>
</ul>
<p>If both networks have the same sufficient statistics (same number of edges, same democracy pairs, same total CINC ratios, same total distances, same transitive triads), they receive the <strong>same probability</strong>—the model only cares about the aggregate counts, not which specific countries fight which others.</p>
<p><strong>Now let’s calculate these statistics:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>network_stats <span class="ot">&lt;-</span> all_networks <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Sufficient statistic 1: Number of edges (wars)</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_edges =</span> <span class="fu">sum</span>(<span class="fu">c</span>(tie_AB, tie_AC, tie_BA, tie_BC, tie_CA, tie_CB)),</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Sufficient statistic 2: Wars where both are democracies</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_both_dem =</span> tie_AB <span class="sc">*</span> dyads<span class="sc">$</span>both_democracy[<span class="dv">1</span>] <span class="sc">+</span>  <span class="co"># A→B</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>                 tie_BA <span class="sc">*</span> dyads<span class="sc">$</span>both_democracy[<span class="dv">3</span>],   <span class="co"># B→A</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Sufficient statistic 3: Sum of CINC ratios</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_cinc =</span> tie_AB <span class="sc">*</span> dyads<span class="sc">$</span>cinc_ratio[<span class="dv">1</span>] <span class="sc">+</span>  <span class="co"># A→B</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>               tie_AC <span class="sc">*</span> dyads<span class="sc">$</span>cinc_ratio[<span class="dv">2</span>] <span class="sc">+</span>  <span class="co"># A→C</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>               tie_BA <span class="sc">*</span> dyads<span class="sc">$</span>cinc_ratio[<span class="dv">3</span>] <span class="sc">+</span>  <span class="co"># B→A</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>               tie_BC <span class="sc">*</span> dyads<span class="sc">$</span>cinc_ratio[<span class="dv">4</span>] <span class="sc">+</span>  <span class="co"># B→C</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>               tie_CA <span class="sc">*</span> dyads<span class="sc">$</span>cinc_ratio[<span class="dv">5</span>] <span class="sc">+</span>  <span class="co"># C→A</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>               tie_CB <span class="sc">*</span> dyads<span class="sc">$</span>cinc_ratio[<span class="dv">6</span>],   <span class="co"># C→B</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Sufficient statistic 4: Sum of distances</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">sum_dist =</span> tie_AB <span class="sc">*</span> dyads<span class="sc">$</span>dist[<span class="dv">1</span>] <span class="sc">+</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>               tie_AC <span class="sc">*</span> dyads<span class="sc">$</span>dist[<span class="dv">2</span>] <span class="sc">+</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>               tie_BA <span class="sc">*</span> dyads<span class="sc">$</span>dist[<span class="dv">3</span>] <span class="sc">+</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>               tie_BC <span class="sc">*</span> dyads<span class="sc">$</span>dist[<span class="dv">4</span>] <span class="sc">+</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>               tie_CA <span class="sc">*</span> dyads<span class="sc">$</span>dist[<span class="dv">5</span>] <span class="sc">+</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>               tie_CB <span class="sc">*</span> dyads<span class="sc">$</span>dist[<span class="dv">6</span>],</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Sufficient statistic 5: Number of transitive triads</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Count patterns where i→j AND j→k AND i→k all exist</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_transitive =</span> (tie_AB <span class="sc">*</span> tie_BC <span class="sc">*</span> tie_AC) <span class="sc">+</span>  <span class="co"># A→B→C (and A→C)</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>                   (tie_AC <span class="sc">*</span> tie_CB <span class="sc">*</span> tie_AB) <span class="sc">+</span>  <span class="co"># A→C→B (and A→B)</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>                   (tie_BA <span class="sc">*</span> tie_AC <span class="sc">*</span> tie_BC) <span class="sc">+</span>  <span class="co"># B→A→C (and B→C)</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>                   (tie_BC <span class="sc">*</span> tie_CA <span class="sc">*</span> tie_BA) <span class="sc">+</span>  <span class="co"># B→C→A (and B→A)</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>                   (tie_CA <span class="sc">*</span> tie_AB <span class="sc">*</span> tie_CB) <span class="sc">+</span>  <span class="co"># C→A→B (and C→B)</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>                   (tie_CB <span class="sc">*</span> tie_BA <span class="sc">*</span> tie_CA)    <span class="co"># C→B→A (and C→A)</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(network_stats, network_id<span class="sc">:</span>n_transitive)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 64 × 6
   network_id n_edges n_both_dem sum_cinc sum_dist n_transitive
        &lt;int&gt;   &lt;int&gt;      &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;        &lt;int&gt;
 1          1       0          0    0            0            0
 2          2       1          0    0.571       35            0
 3          3       1          0    0.282       40            0
 4          4       2          0    0.853       75            0
 5          5       1          0    1.75        35            0
 6          6       2          0    2.32        70            0
 7          7       2          0    2.03        75            0
 8          8       3          0    2.60       110            0
 9          9       1          1    0.493       12            0
10         10       2          1    1.06        47            0
# ℹ 54 more rows</code></pre>
</div>
</div>
</section>
<section id="calculate-network-probabilities-using-the-ergm-formula" class="level4">
<h4 class="anchored" data-anchor-id="calculate-network-probabilities-using-the-ergm-formula">Calculate Network Probabilities Using the ERGM Formula</h4>
<p>The probability of each network is given by:</p>
<p><span class="math display">\[P(\text{Network} \mid \theta) = \frac{\exp(\theta' \cdot s(\text{Network}))}{\kappa(\theta)}\]</span></p>
<p>Where:</p>
<ul>
<li><p><span class="math inline">\(\theta\)</span> = our parameters (β₀, β₁, β₂, β₃, β₄)</p></li>
<li><p><span class="math inline">\(s(\text{Network})\)</span> = sufficient statistics for that network</p></li>
<li><p><span class="math inline">\(\kappa(\theta)\)</span> = normalizing constant (ensures probabilities sum to 1 by being the sum of all network scores)</p></li>
</ul>
<p>In plain language: “The probability of a network equals its score divided by the sum of all possible networks’ scores.”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the unnormalized log-probability for each network</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>network_stats <span class="ot">&lt;-</span> network_stats <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_prob_unnorm =</span> true_beta_0 <span class="sc">*</span> n_edges <span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>                      true_beta_1 <span class="sc">*</span> n_both_dem <span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>                      true_beta_2 <span class="sc">*</span> sum_cinc <span class="sc">+</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>                      true_beta_3 <span class="sc">*</span> sum_dist <span class="sc">+</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>                      true_beta_4 <span class="sc">*</span> n_transitive</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the normalizing constant</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>log_kappa <span class="ot">&lt;-</span> <span class="fu">log</span>(<span class="fu">sum</span>(<span class="fu">exp</span>(network_stats<span class="sc">$</span>log_prob_unnorm)))</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate final probabilities</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>network_stats <span class="ot">&lt;-</span> network_stats <span class="sc">%&gt;%</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_prob =</span> log_prob_unnorm <span class="sc">-</span> log_kappa,</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">prob =</span> <span class="fu">exp</span>(log_prob)</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(prob))</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(network_stats, network_id, log_prob_unnorm, log_prob, prob)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 64 × 4
   network_id log_prob_unnorm log_prob    prob
        &lt;int&gt;           &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;
 1         17           1.32    -0.639 0.528  
 2         21           0.200   -1.76  0.171  
 3          1           0       -1.96  0.140  
 4          5          -1.12    -3.09  0.0455 
 5         18          -1.57    -3.53  0.0292 
 6         49          -1.73    -3.70  0.0248 
 7         19          -2.25    -4.22  0.0147 
 8         22          -2.69    -4.66  0.00949
 9          2          -2.89    -4.86  0.00777
10         33          -3.06    -5.02  0.00659
# ℹ 54 more rows</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Understanding the log space calculations
</div>
</div>
<div class="callout-body-container callout-body">
<p>You might wonder why we use <code>log_prob = log_prob_unnorm - log_kappa</code> instead of directly calculating probabilities. Here’s why:</p>
<p><strong>The mathematical identity:</strong></p>
<ul>
<li>We want: P = exp(score) / κ(θ)</li>
<li>Taking logs: log(P) = log(exp(score)) - log(κ(θ)) = score - log(κ(θ))</li>
</ul>
<p><strong>Why work in log space?</strong></p>
<ul>
<li>Network probabilities can be extremely small (like 0.0000001)</li>
<li>Computers can’t reliably store very small numbers (they “underflow” to exactly 0)</li>
<li>But computers can store log(0.0000001) = -16.1 reliably</li>
<li>We only convert back to regular probabilities at the end: <code>prob = exp(log_prob)</code></li>
</ul>
<p><strong>The calculation steps:</strong></p>
<ol type="1">
<li><code>log_prob_unnorm</code> = the score for each network (sum of β × statistics)</li>
<li><code>log_kappa</code> = log of the sum of all exponential scores</li>
<li><code>log_prob</code> = normalized log-probability = score - log(normalizing constant)</li>
<li><code>prob</code> = convert back to regular probability scale</li>
</ol>
</div>
</div>
<p><strong>Verify probabilities sum to 1:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(network_stats<span class="sc">$</span>prob)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<p>Perfect! This confirms our probability distribution is valid.</p>
</section>
</section>
<section id="step-5-examine-the-most-likely-networks" class="level3">
<h3 class="anchored" data-anchor-id="step-5-examine-the-most-likely-networks">Step 5: Examine the Most Likely Networks</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>network_stats <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(network_id, n_edges, n_both_dem, n_transitive, sum_cinc, sum_dist, </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>         prob) <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob_pct =</span> scales<span class="sc">::</span><span class="fu">percent</span>(prob, <span class="at">accuracy =</span> <span class="fl">0.01</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>prob) <span class="sc">%&gt;%</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 15%">
<col style="width: 11%">
<col style="width: 15%">
<col style="width: 18%">
<col style="width: 14%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">network_id</th>
<th style="text-align: right;">n_edges</th>
<th style="text-align: right;">n_both_dem</th>
<th style="text-align: right;">n_transitive</th>
<th style="text-align: right;">sum_cinc</th>
<th style="text-align: right;">sum_dist</th>
<th style="text-align: left;">prob_pct</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">17</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3.5500000</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">52.76%</td>
</tr>
<tr class="even">
<td style="text-align: right;">21</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5.3000000</td>
<td style="text-align: right;">75</td>
<td style="text-align: left;">17.13%</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">14.02%</td>
</tr>
<tr class="even">
<td style="text-align: right;">5</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.7500000</td>
<td style="text-align: right;">35</td>
<td style="text-align: left;">4.55%</td>
</tr>
<tr class="odd">
<td style="text-align: right;">18</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4.1214286</td>
<td style="text-align: right;">75</td>
<td style="text-align: left;">2.92%</td>
</tr>
<tr class="even">
<td style="text-align: right;">49</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5.5785714</td>
<td style="text-align: right;">52</td>
<td style="text-align: left;">2.48%</td>
</tr>
<tr class="odd">
<td style="text-align: right;">19</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3.8316901</td>
<td style="text-align: right;">80</td>
<td style="text-align: left;">1.47%</td>
</tr>
<tr class="even">
<td style="text-align: right;">22</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5.8714286</td>
<td style="text-align: right;">110</td>
<td style="text-align: left;">0.95%</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.5714286</td>
<td style="text-align: right;">35</td>
<td style="text-align: left;">0.78%</td>
</tr>
<tr class="even">
<td style="text-align: right;">33</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2.0285714</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">0.66%</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>What do we notice?</strong></p>
<p>The most probable networks tend to have:</p>
<ul>
<li><p>Few edges (wars are rare, β₀ is negative)</p></li>
<li><p>Low or zero democracy pairs fighting (β₁ is very negative)</p></li>
<li><p>Few or no transitive triads (countries avoid multi-front wars, β₄ is negative)</p></li>
<li><p>When wars occur, they tend to be between strong and weak countries at close distances</p></li>
</ul>
</section>
<section id="step-6-simulate-a-network-from-this-distribution" class="level3">
<h3 class="anchored" data-anchor-id="step-6-simulate-a-network-from-this-distribution">Step 6: Simulate a Network from This Distribution</h3>
<p>Now that we have probabilities for all 64 networks, we can randomly sample one network according to these probabilities. This is like the “data generating process” — it shows us what networks we’d expect to observe given our parameters.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample one network according to probabilities</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>sampled_network_id <span class="ot">&lt;-</span> <span class="fu">sample</span>(network_stats<span class="sc">$</span>network_id, </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>                              <span class="at">size =</span> <span class="dv">1</span>, </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>                              <span class="at">prob =</span> network_stats<span class="sc">$</span>prob)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>sampled_network <span class="ot">&lt;-</span> network_stats <span class="sc">%&gt;%</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(network_id <span class="sc">==</span> sampled_network_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Our sampled network:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>sampled_network <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(network_id<span class="sc">:</span>n_transitive, prob) <span class="sc">%&gt;%</span> </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 15%">
<col style="width: 11%">
<col style="width: 15%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 18%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">network_id</th>
<th style="text-align: right;">n_edges</th>
<th style="text-align: right;">n_both_dem</th>
<th style="text-align: right;">sum_cinc</th>
<th style="text-align: right;">sum_dist</th>
<th style="text-align: right;">n_transitive</th>
<th style="text-align: right;">prob</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">17</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3.55</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.5276205</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Which specific wars exist?</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>ties_list <span class="ot">&lt;-</span> sampled_network <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(tie_AB, tie_AC, tie_BA, tie_BC, tie_CA, tie_CB) <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">"tie"</span>, <span class="at">values_to =</span> <span class="st">"exists"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(exists <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tie =</span> <span class="fu">str_replace</span>(tie, <span class="st">"tie_"</span>, <span class="st">""</span>),</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">tie =</span> <span class="fu">paste0</span>(<span class="fu">str_sub</span>(tie, <span class="dv">1</span>, <span class="dv">1</span>), <span class="st">"→"</span>, <span class="fu">str_sub</span>(tie, <span class="dv">2</span>, <span class="dv">2</span>)))</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">nrow</span>(ties_list) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"Wars in this network:</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(ties_list<span class="sc">$</span>tie)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"Empty network - no wars</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Wars in this network:
[1] "A→C"</code></pre>
</div>
</div>
</section>
</section>
<section id="understanding-the-impact-of-network-structure" class="level2">
<h2 class="anchored" data-anchor-id="understanding-the-impact-of-network-structure">Understanding the Impact of Network Structure</h2>
<section id="what-does-the-transitivity-parameter-mean" class="level3">
<h3 class="anchored" data-anchor-id="what-does-the-transitivity-parameter-mean">What Does the Transitivity Parameter Mean?</h3>
<p>Our parameter β₄ = -2.0 means that each additional transitive triad multiplies the probability of a network by <span class="math inline">\(\exp(-2.0) \approx 0.14\)</span> (or divides it by about 7.4).</p>
<p><strong>Concrete example:</strong></p>
<p>Imagine two networks that are identical in every way except:</p>
<ul>
<li><p>Network 1 has 0 transitive triads</p></li>
<li><p>Network 2 has 1 transitive triad</p></li>
</ul>
<p>Network 2 is only 14% as probable as Network 1! Or equivalently, Network 1 is 7.4 (1 / 0.14) times more probable than Network 2.</p>
</section>
<section id="comparing-with-and-without-structure" class="level3">
<h3 class="anchored" data-anchor-id="comparing-with-and-without-structure">Comparing With and Without Structure</h3>
<p>Let’s see how the structural parameter changes things. We’ll calculate probabilities of each network with and without the transitivity term.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate probabilities WITHOUT transitivity</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>network_stats_no_struct <span class="ot">&lt;-</span> network_stats <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_prob_unnorm_no_struct =</span> true_beta_0 <span class="sc">*</span> n_edges <span class="sc">+</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>                                true_beta_1 <span class="sc">*</span> n_both_dem <span class="sc">+</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>                                true_beta_2 <span class="sc">*</span> sum_cinc <span class="sc">+</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>                                true_beta_3 <span class="sc">*</span> sum_dist</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>                                <span class="co"># Note: NO β₄ term!</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>log_kappa_no_struct <span class="ot">&lt;-</span> <span class="fu">log</span>(<span class="fu">sum</span>(<span class="fu">exp</span>(network_stats_no_struct<span class="sc">$</span>log_prob_unnorm_no_struct)))</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>network_stats_no_struct <span class="ot">&lt;-</span> network_stats_no_struct <span class="sc">%&gt;%</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_prob_no_struct =</span> log_prob_unnorm_no_struct <span class="sc">-</span> log_kappa_no_struct,</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">prob_no_struct =</span> <span class="fu">exp</span>(log_prob_no_struct)</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Top 10 networks WITH transitivity:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>network_stats <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(network_id, n_edges, n_transitive, prob) <span class="sc">%&gt;%</span> </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> scales<span class="sc">::</span><span class="fu">percent</span>(prob, <span class="at">accuracy =</span> <span class="fl">0.01</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">network_id</th>
<th style="text-align: right;">n_edges</th>
<th style="text-align: right;">n_transitive</th>
<th style="text-align: left;">prob</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">17</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">52.76%</td>
</tr>
<tr class="even">
<td style="text-align: right;">21</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">17.13%</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">14.02%</td>
</tr>
<tr class="even">
<td style="text-align: right;">5</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">4.55%</td>
</tr>
<tr class="odd">
<td style="text-align: right;">18</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2.92%</td>
</tr>
<tr class="even">
<td style="text-align: right;">49</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2.48%</td>
</tr>
<tr class="odd">
<td style="text-align: right;">19</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">1.47%</td>
</tr>
<tr class="even">
<td style="text-align: right;">22</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">0.95%</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">0.78%</td>
</tr>
<tr class="even">
<td style="text-align: right;">33</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">0.66%</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Top 10 networks WITHOUT transitivity:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>network_stats_no_struct <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(prob_no_struct)) <span class="sc">%&gt;%</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(network_id, n_edges, n_transitive, prob_no_struct) <span class="sc">%&gt;%</span> </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob_no_struct =</span> scales<span class="sc">::</span><span class="fu">percent</span>(prob_no_struct, <span class="at">accuracy =</span> <span class="fl">0.01</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">network_id</th>
<th style="text-align: right;">n_edges</th>
<th style="text-align: right;">n_transitive</th>
<th style="text-align: left;">prob_no_struct</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">17</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">52.26%</td>
</tr>
<tr class="even">
<td style="text-align: right;">21</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">16.97%</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">13.89%</td>
</tr>
<tr class="even">
<td style="text-align: right;">5</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">4.51%</td>
</tr>
<tr class="odd">
<td style="text-align: right;">18</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2.90%</td>
</tr>
<tr class="even">
<td style="text-align: right;">49</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2.46%</td>
</tr>
<tr class="odd">
<td style="text-align: right;">19</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">1.46%</td>
</tr>
<tr class="even">
<td style="text-align: right;">22</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">0.94%</td>
</tr>
<tr class="odd">
<td style="text-align: right;">53</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">0.80%</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">0.77%</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Key observation:</strong> When we include the transitivity parameter (with its negative value), networks with fewer transitive triads become more probable. The structural feature reshapes the probability distribution to discourage complex conflict triangles!</p>
</section>
</section>
<section id="why-this-matters-interdependence" class="level2">
<h2 class="anchored" data-anchor-id="why-this-matters-interdependence">Why This Matters: Interdependence</h2>
<p>The crucial insight is that with structural parameters, we can no longer think about ties in isolation.</p>
<p><strong>Without structure (dyad-independent model):</strong></p>
<ul>
<li>We could say: “The probability that A attacks B is 15%”</li>
<li>Each tie’s probability is independent of other ties</li>
</ul>
<p><strong>With structure (our model):</strong></p>
<ul>
<li>We cannot say “P(A→B) = 15%” in isolation</li>
<li>The probability of A→B depends on whether A→C, B→C, etc. exist</li>
<li>We must think about the probability of entire network configurations</li>
</ul>
<p>This interdependence captures real-world coalition dynamics where:</p>
<ul>
<li>Countries avoid multi-front wars</li>
<li>Shared enemies create opportunities for alliance</li>
<li>Transitive conflict patterns (A fights B, B fights C, A fights C) are strategically undesirable</li>
<li>The structure of existing conflicts shapes future conflict decisions</li>
</ul>
</section>
<section id="the-computational-challenge" class="level2">
<h2 class="anchored" data-anchor-id="the-computational-challenge">The Computational Challenge</h2>
<p>For our 3-node network, we enumerated all 64 possible networks. But this approach doesn’t scale:</p>
<ul>
<li><strong>3 nodes</strong>: <span class="math inline">\(2^6 = 64\)</span> networks (easy!)</li>
<li><strong>10 nodes</strong>: <span class="math inline">\(2^{90} \approx 1.2 \times 10^{27}\)</span> networks (impossible!)</li>
<li><strong>100 nodes</strong>: <span class="math inline">\(2^{9900}\)</span> networks (beyond astronomical)</li>
</ul>
<p>For larger networks, we cannot enumerate all possibilities. Instead, researchers use <strong>Markov Chain Monte Carlo (MCMC)</strong> simulation to estimate ERGM parameters, which we will step through in the next post. But the core logic remains the same: we’re modeling a probability distribution over all possible networks, with parameters that make certain structural patterns more or less likely.</p>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>ERGMs let us answer: “Why does this network look the way it does?” by:</p>
<ol type="1">
<li>Defining a probability distribution over all possible networks</li>
<li>Using parameters to weight different features (democracy, distance, strength, structure)</li>
<li>Finding which networks are most probable given those parameters</li>
</ol>
<p>Structural parameters (such as transitivity) are what makes ERGMs powerful — they let us capture how the presence of some ties makes other ties more or less likely. In our case, the negative transitivity parameter reflects a fundamental strategic principle: countries avoid getting into wars with both sides of an existing conflict, leading to coalition formation rather than conflict clustering.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>